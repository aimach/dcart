import{u as d,j as n,B as p,a0 as g,a1 as f,W as h,r as i,H as x,J as C,L as j,x as _}from"./index-BxFqVAtU.js";import{u as b}from"./index.esm-DU5Jd49H.js";import{L as u}from"./LabelComponent-Dc0vkv4j.js";import{E as k}from"./ErrorComponent-DHhBf5Ed.js";const w="_translationPageContainer_1akdm_1",I="_translationContainer_1akdm_12",y="_translationManagementForm_1akdm_34",T="_translationManagementRow_1akdm_44",M="_translationInputRow_1akdm_57",v="_translationInputContainer_1akdm_75",E="_buttonContainer_1akdm_91",a={translationPageContainer:w,translationContainer:I,translationManagementForm:y,translationManagementRow:T,translationInputRow:M,translationInputContainer:v,buttonContainer:E},N="/assets/homepage.title-CBlIvEdb.png",R="/assets/homepage.description-BPodh4oi.png",F="/assets/menu.description-DlMdulE4.png",P="/assets/mapPage.introContent-isJg9s33.png",S=t=>{switch(t){case"homepage.atitle":return N;case"homepage.description":return R;case"menu.description":return F;case"mapPage.introContent":return P;default:return""}},L=({translationObject:t})=>{const{translation:e,language:s}=d(),l=async r=>{await g(r.id,r.key,r.fr,r.en)===200?f("Traduction",!0):h("Erreur lors de la mise à jour de la traduction")},{register:o,handleSubmit:c,formState:{errors:m}}=b({defaultValues:t??{}});return n.jsxs("form",{onSubmit:c(l),children:[n.jsxs("div",{className:a.translationManagementForm,children:[n.jsxs("div",{className:a.translationManagementRow,children:[n.jsx("p",{children:e[s].backoffice.translationManagement[t.key]}),n.jsxs("div",{className:a.translationInputRow,children:[n.jsx("img",{src:S(t.key),alt:"indication du texte sur le site",width:200,height:"auto",loading:"lazy"}),n.jsxs("div",{children:[n.jsxs("div",{className:a.translationInputContainer,children:[n.jsx(u,{htmlFor:"fr",label:e[s].backoffice.translationManagement.frenchTranslation,description:""}),n.jsx("textarea",{id:"fr",defaultValue:t.fr,...o("fr",{required:"Le champ français est requis"}),rows:5})]}),n.jsxs("div",{className:a.translationInputContainer,children:[n.jsx(u,{htmlFor:"en",label:e[s].backoffice.translationManagement.englishTranslation,description:""}),n.jsx("textarea",{id:"en",defaultValue:t.en,...o("en",{required:"Le champ anglais est requis"}),rows:5})]})]})]})]}),Object.keys(m).length>0&&n.jsx(k,{message:m[Object.keys(m)[0]].message})]}),n.jsx("div",{className:a.buttonContainer,children:n.jsx(p,{type:"submit",color:"brown",textContent:e[s].button.edit})})]})},J=()=>{const{isAdmin:t}=i.useContext(x),e=C();i.useEffect(()=>{t||e("/backoffice")},[t,e]);const[s,l]=i.useState([]);return i.useEffect(()=>{(async()=>{const c=await _();l(c)})()},[]),s.length>0?n.jsx("section",{className:a.translationPageContainer,children:n.jsx("div",{className:a.translationContainer,children:s.map(o=>n.jsx(L,{translationObject:o},o.key))})}):n.jsx(j,{})};export{J as default};
